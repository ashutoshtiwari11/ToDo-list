<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <title>To-Do List</title>
  <link rel="stylesheet" href="todo.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  
</head>

<body>
  <div class="nav-div">
    <nav>
      <ul class="nav-bar">
        <li>Home</li>
        <li>Mode</li>
        <li>Settings</li>
      </ul>
    </nav>
  </div>
  <div class="main">
    <div class="display-time">
      <div class="date">
        <h1></h1>
      </div>
      <div class="date-date">
        <h1></h1>
      </div>
      <div>
        <div class="progress">
          <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
        </div>
      </div>
      </div>
    
    <div class="container">
      <h1>To-Do List</h1>
      <div class="todo-input">
        <h1>Schedule Your Task</h1>
        <input id="taskInput" type="text" placeholder="Enter a task">
        <input type="date" id="input-date" placeholder="Date">
        <input type="time" id="input-time" placeholder="Time">
        <!-- <label for="star"></label>
        <input type="radio" name="star" value="" id="star" placeholder=""> --> 
        <button class="submitButton" onclick="submitit()">Submit</button>
        <div id="taskList"></div>
      </div>
    </div>
    <script>
      date = new Date();
      hour = date.getHours();
      min = date.getMinutes();
      month = date.getMonth();
      day = date.getDate();
      year = date.getFullYear();

      displayDate = document.querySelector(".date-date > h1");
      d = `${day}:${month}:${year}`;
      displayDate.innerText = d;

      time = document.querySelector(".date > h1");
      s = "";
      time.innerText = s + hour + ':' + min;

      function createTask(taskText) {
        taskInput = document.getElementById('taskInput');
        taskList = document.getElementById('taskList');
        box = document.createElement('input');
        box.type = 'checkbox';

        const task = document.createElement('div');
        task.className = "div-js";
        // taskTimeInput = document.createElement("button")
        // taskTimeInput.textContent = taskTime.value;
        // taskTimeInput.className = "timeStamp";
        // task.appendChild(taskTimeInput)
        const taskTextElement = document.createElement('h2');
        taskTextElement.textContent = taskText;
        const createInputDate = document.createElement("h3")
        inputDate = document.getElementById('input-date');
        const createInputTime = document.createElement("h3")
        inputTime = document.getElementById('input-time');
        createInputDate.textContent=" "+inputDate.value;
        createInputTime.textContent=" "+inputTime.value;
        const del = document.createElement('button');
        del.textContent = "Delete";
        del.className = 'del';
        const edit = document.createElement('button');
        edit.className = 'edit';
        edit.textContent = 'Edit';
        edit.addEventListener('click', handledit); // Attach the handledit function to the click event
         
        task.appendChild(createInputDate);
        task.appendChild(createInputTime)
        task.appendChild(box);
        task.appendChild(taskTextElement);
        task.appendChild(edit);
        task.appendChild(del);
        taskList.append(task);
      }
      function submitit() {
        {
          createTask(taskInput.value.trim());
          taskInput.value = "";
        }
      };

      taskList.addEventListener('click', function (event) {
        if (event.target.classList.contains('del')) {
          event.target.parentNode.remove();
        }
      });

      function handledit() {
        const parentDiv = this.parentNode;
        const taskTextElement = parentDiv.querySelector('p');

        const textarea = document.createElement("textarea");
        const enterButton = document.createElement("button");
        enterButton.textContent = 'Enter';

        enterButton.addEventListener('click', function () {
          taskTextElement.textContent = textarea.value;
          parentDiv.removeChild(textarea);
          parentDiv.removeChild(enterButton);
        });

        parentDiv.append(textarea);
        parentDiv.appendChild(enterButton);
      }

    </script>
</body>

</html>